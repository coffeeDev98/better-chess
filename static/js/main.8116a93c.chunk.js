(this["webpackJsonpbetter-chess"]=this["webpackJsonpbetter-chess"]||[]).push([[0],{41:function(e,n,t){},42:function(e,n,t){},68:function(e,n,t){"use strict";t.r(n);var r=t(2),i=t.n(r),o=t(28),a=t.n(o),c=(t(41),t(42),t(1)),s=t(4),d=t(29),u=t.n(d),l=t(30),b=t(13),p=t(5),f="abcdefgh".split("");function g(e){return"[object Object]"===Object.prototype.toString.call(e)}function j(e){return"string"===typeof e}function h(e){if(!function(e){var n,t;return!1!==g(e)&&(void 0===(n=e.constructor)||!1!==g(t=n.prototype)&&!1!==t.hasOwnProperty("isPrototypeOf"))}(e))return!1;for(var n in e)if(e.hasOwnProperty(n)&&(!j(r=n)||-1===r.search(/^[a-h][1-8]$/)||(!j(t=e[n])||-1===t.search(/^[bw][KQRNBP]$/))))return!1;var t,r;return!0}function v(e){var n=e.split("");return"w"===n[0]?n[1].toUpperCase():n[1].toLowerCase()}var O,x,m,y,w,S,q,P,k,M=function(e){if(!h(e))return!1;for(var n="",t=8,r=0;r<8;r++){for(var i=0;i<8;i++){var o=f[i]+t;e.hasOwnProperty(o)?n+=v(e[o]):n+="1"}7!==r&&(n+="/"),t-=1}return n=function(e){return e.replace(/11111111/g,"8").replace(/1111111/g,"7").replace(/111111/g,"6").replace(/11111/g,"5").replace(/1111/g,"4").replace(/111/g,"3").replace(/11/g,"2")}(n)},C=function(e){if(!function(e){if(!j(e))return!1;var n=(e=function(e){return e.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}(e=e.replace(/ .+$/,""))).split("/");if(8!==n.length)return!1;for(var t=0;t<8;t++)if(8!==n[t].length||-1!==n[t].search(/[^kqrnbpKQRNBP1]/))return!1;return!0}(e))return!1;for(var n,t=(e=e.replace(/ .+$/,"")).split("/"),r={},i=8,o=0;o<8;o++){for(var a=t[o].split(""),c=0,s=0;s<a.length;s++){if(-1!==a[s].search(/[1-8]/))c+=parseInt(a[s],10);else r[f[c]+i]=(n=a[s]).toLowerCase()===n?"b"+n.toUpperCase():"w"+n.toUpperCase(),c+=1}i-=1}return r},B="BOARD_MOVE_UPDATE",F="BOARD_MOVE_UNDO",D=t(19),E=function(e){var n=e.pieceSquare,t=e.history,r=(t.length&&t[t.length-1].from,t.length&&t[t.length-1].to);return Object(c.a)(Object(p.a)({},n,{backgroundColor:"rgba(123,97,255,0.5)"}),t.length&&Object(p.a)({},r,{backgroundColor:"rgba(123,97,255,0.5)"}))},N=function(e,n){var t=Object(r.useState)(new D("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1")),i=Object(s.a)(t,1)[0],o=Object(r.useState)({fen:"start",dropSquareStyle:{},squareStyles:{},pieceSquare:"",square:"",history:[],boardPosition:{},pgn:[],undoMovesArray:[]}),a=Object(s.a)(o,2),d=a[0],u=a[1];Object(r.useEffect)((function(){console.log("POSITION: ",d.boardPosition,i.in_check(),i.turn()),i.in_check()&&g(i.turn())}),[d.boardPosition]),Object(r.useEffect)((function(){console.log("UNDO MOVES: ",d.undoMovesArray)}),[d.undoMovesArray]),Object(r.useEffect)((function(){var t;e.channel&&(null===(t=e.channel)||void 0===t||t.on("ChannelMessage",(function(e){var t,r=(t=e.text,JSON.parse(t));switch(r.type){case B:j({sourceSquare:r.json.move.from,targetSquare:r.json.move.to});break;case F:var o={chess:i,state:d,setState:u,undoArray:r.json.undoArray};n.undoMove(o);break;default:console.log("INVALID OPERATION")}})))}),[e.channel]);var f=function(e,n,t){var r=e,o=n;i.move({from:r,to:o,promotion:t}),u(Object(c.a)(Object(c.a)({},d),{},{fen:i.fen()}))},g=function(e){var n=Object.keys(d.boardPosition).find((function(n){return d.boardPosition[n]==="".concat(e,"K")}));console.log("INCHECK: ",Object.keys(d.boardPosition).find((function(n){return d.boardPosition[n]==="".concat(e,"K")}))),u(Object(c.a)(Object(c.a)({},d),{},{squareStyles:Object(c.a)(Object(c.a)({},d.squareStyles),{},Object(p.a)({},n,{backgroundColor:"red"}))}))},j=function(e){for(var t=e.sourceSquare,r=e.targetSquare,o=(e.piece,i.move({from:t,to:r})),a=i.moves({verbose:!0}),s=0,l=a.length;s<l;s++)if(-1!==a[s].flags.indexOf("p")&&a[s].from===t)return void f(t,r,"r");null!==o&&(u((function(e){var n,t=e.history,r=e.pieceSquare;return Object(c.a)(Object(c.a)({},d),{},{fen:i.fen(),pgn:null===(n=i.pgn())||void 0===n?void 0:n.split(/\d\./),history:i.history({verbose:!0}),squareStyles:E({pieceSquare:r,history:t})})})),n.updateBoard(o))};return{setBoardPosition:function(e){u(Object(c.a)(Object(c.a)({},d),{},{boardPosition:e}))},fen:d.fen,pgn:d.pgn,onDrop:j,onMouseOverSquare:function(e){var n=i.moves({square:e,verbose:!0});if(0!==n.length){var t,r=[],o=Object(l.a)(n);try{for(o.s();!(t=o.n()).done;){var a=t.value;r.push(a.to)}}catch(s){o.e(s)}finally{o.f()}!function(e,n){var t=[e].concat(Object(b.a)(n)).reduce((function(e,n){return Object(c.a)(Object(c.a)(Object(c.a)({},e),Object(p.a)({},n,{background:"radial-gradient(circle, rgb(123,97,255,0.5) 20%, transparent 0%)",borderRadius:"50%"})),E({history:d.history,pieceSquare:d.pieceSquare}))}),{});u((function(e){var n=e.squareStyles;return Object(c.a)(Object(c.a)({},d),{},{squareStyles:Object(c.a)(Object(c.a)({},n),t)})}))}(e,r)}},onMouseOutSquare:function(e){!function(){var e=Object.keys(d.boardPosition).find((function(e){return d.boardPosition[e]==="".concat(i.turn(),"K")}));u((function(n){var t=n.pieceSquare,r=n.history;return Object(c.a)(Object(c.a)({},d),{},{squareStyles:i.in_check()&&e?Object(p.a)({},e,d.squareStyles[e]):E({pieceSquare:t,history:r})})}))}()},squareStyles:d.squareStyles,onDragOverSquare:function(e){u(Object(c.a)(Object(c.a)({},d),{},{dropSquareStyle:"e4"===e||"d4"===e||"e5"===e||"d5"===e?{backgroundColor:"cornFlowerBlue"}:{boxShadow:"inset 0 0 1px 4px rgb(255, 255, 0)"}}))},onSquareClick:function(e){var t;u((function(n){var t=n.history;return Object(c.a)(Object(c.a)({},d),{},{squareStyles:Object(c.a)(Object(c.a)({},d.squareStyles),E({pieceSquare:e,history:t})),pieceSquare:e})}));for(var r=i.move({from:d.pieceSquare,to:e}),o=i.moves({verbose:!0}),a=0,s=o.length;a<s;a++)if(o[a].flags.includes("p")&&o[a].from===d.pieceSquare)return void f(d.pieceSquare,e,"q");null!==r&&(u(Object(c.a)(Object(c.a)({},d),{},{fen:i.fen(),pgn:null===(t=i.pgn())||void 0===t?void 0:t.split(/\d\./),history:i.history({verbose:!0}),pieceSquare:""})),n.updateBoard(r))},onSquareRightClick:function(e){return u(Object(c.a)(Object(c.a)({},d),{},{squareStyles:Object(p.a)({},e,{backgroundColor:"deepPink"})}))},undoMove:function(){var e=i.undo();e&&(u(Object(c.a)(Object(c.a)({},d),{},{fen:i.fen(),undoMovesArray:[].concat(Object(b.a)(d.undoMovesArray),[e])})),n.undoMoveMsg([].concat(Object(b.a)(d.undoMovesArray),[e])))},redoMove:function(){if(0!==d.undoMovesArray.length){var e=d.undoMovesArray.pop();if(console.log("REDO: ",e),e){var t=i.move(e);console.log("REDONE: ",t),null!==t&&(u((function(e){var n,t=e.history,r=e.pieceSquare;return Object(c.a)(Object(c.a)({},d),{},{fen:i.fen(),pgn:null===(n=i.pgn())||void 0===n?void 0:n.split(/\d\./),history:i.history({verbose:!0}),squareStyles:E({pieceSquare:r,history:t})})})),n.updateBoard(t))}}}}},R=t(16),A=t.n(R),I=t(31),K=t(32),L=t.n(K),W=t(33),Q=t.n(W),_={messageParser:function(e){return{text:(n=e,JSON.stringify(n)),messageType:"TEXT"};var n}},T=function(){var e=Object(r.useState)(null),n=Object(s.a)(e,2),t=n[0],i=n[1],o=L.a.createInstance("f4b36b6c897e41bfaa3904d75da40777"),a={uid:(Math.floor(9e4*Math.random())+1e4).toString(),token:""};Object(r.useEffect)((function(){(function(){var e=Object(I.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q.a.get("https://agoratokenserver-demo.herokuapp.com/access_token?channel=test&uid=".concat(a.uid)).then((function(e){var n;console.log(e),a.token=(null===(n=e.data)||void 0===n?void 0:n.token)||"",o.login(a).then((function(){console.log("Login successful");var e=o.createChannel("test");e.join(),i(e)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(){console.log("integrations successful")}))}),[]),Object(r.useEffect)((function(){t&&(null===t||void 0===t||t.on("MemberJoined",(function(e){console.log("New member joined: ",e)})),null===t||void 0===t||t.on("MemberLeft",(function(e){console.log("Member left: ",e)})))}),[t]);return{channel:t,playerMeta:a,sendChannelMessage:function(e,n){var r={uid:a.uid,json:e||{},type:n};console.log(_.messageParser(r)),null===t||void 0===t||t.sendMessage(_.messageParser(r)).then((function(){}))}}},z=function(e){var n=e.Agora;return{updateBoard:function(e){var t={move:e};null===n||void 0===n||n.sendChannelMessage(t,B)},undoMoveMsg:function(e){var t={undoArray:e};null===n||void 0===n||n.sendChannelMessage(t,F)},undoMove:function(e){var n=e.chess,t=e.state,r=e.setState,i=e.undoArray;n.undo()&&r(Object(c.a)(Object(c.a)({},t),{},{fen:n.fen(),undoMovesArray:i}))}}},U=t(19),J="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",$="8/8/8/8/8/8/8/8",V=function(){var e=Object(r.useState)(new U(J)),n=(Object(s.a)(e,1)[0],Object(r.useState)({fen:J,orientation:"white",dropSquareStyle:{},squareStyles:{},pieceSquare:"",square:"",history:[],boardPosition:C(J),pgn:[]})),t=Object(s.a)(n,2),i=t[0],o=t[1];Object(r.useEffect)((function(){console.log("BOARD_POSITION: ",M(i.boardPosition))}),[i.boardPosition]);return{fen:i.fen,pgn:i.pgn,boardPosition:i.boardPosition,orientation:i.orientation,onDrop:function(e){var n,t=e.sourceSquare,r=e.targetSquare,a=e.piece;console.log("EDITOR_ON_DROP: ",t,r,a),n="spare"===t?Object(c.a)(Object(c.a)({},i.boardPosition),{},Object(p.a)({},r,a)):Object(c.a)(Object(c.a)({},Object.fromEntries(Object.entries(i.boardPosition).filter((function(e){var n=Object(s.a)(e,2),r=n[0];n[1];return r!==t})))),{},Object(p.a)({},r,a)),console.log("BOARD_POSITION: ",n),o(Object(c.a)(Object(c.a)({},i),{},{fen:M(n)||i.fen,boardPosition:n}))},setBoardPosition:function(e){o(Object(c.a)(Object(c.a)({},i),{},{fen:M(e)||i.fen,boardPosition:e}))},setFenPosition:function(e){o(Object(c.a)(Object(c.a)({},i),{},{fen:e,boardPosition:C(e)}))},reset:function(){o(Object(c.a)(Object(c.a)({},i),{},{fen:J,boardPosition:C(J)}))},clear:function(){o(Object(c.a)(Object(c.a)({},i),{},{fen:$,boardPosition:C($)}))},flip:function(){o(Object(c.a)(Object(c.a)({},i),{},{orientation:"white"===i.orientation?"black":"white"}))}}},H=t(6),G=t(7),X=Object(G.a)(O||(O=Object(H.a)(["\n  background-color: #2b2b34;\n  width: 386px;\n  border-radius: 0px 16px 16px 0px;\n"]))),Y=G.b.div(x||(x=Object(H.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  ","\n"])),(function(e){return e.editorMode&&X})),Z=G.b.div(m||(m=Object(H.a)(["\n  div {\n    padding: 14px;\n    cursor: pointer;\n  }\n"]))),ee=G.b.div(y||(y=Object(H.a)(["\n  div {\n      padding: 14px;\n      cursor: pointer;\n    }\n"]))),ne=G.b.div(w||(w=Object(H.a)(["\n  position: relative;\n  width: 176px;\n  height: 242px;\n  background: #2B2B34;\n  border: 1.46px solid #424242;\n  box-sizing: border-box;\n  padding: 10px;\n  .title {\n    display: flex;\n    img {\n      margin-right: 3px;\n    }\n    font-weight: bold;\n    font-size: 18px;\n    line-height: 21px;\n    color: #ffffff; \n    margin-bottom: 11px;\n  }\n  .pgn {\n    color: #ffffff;\n    font-size: 20px;\n  }\n"]))),te=G.b.div(S||(S=Object(H.a)(["\n  position: absolute;\n  /* bottom: -52px; */\n  bottom: 0px;\n  left: -1.46px;\n  width: 176px;\n  height: 51px;\n  background: #2B2B34;\n  border: 1.46px solid #424242;\n  /* border-top: 0px; */\n  border-bottom: 0px;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: space-between;\n  padding: 13.14px;\n  img {\n    cursor: pointer;\n  }\n"]))),re=G.b.div(q||(q=Object(H.a)(["\n  padding: 26px;\n  height: 100%;\n  .title {\n    font-style: normal;\n    font-weight: bold;\n    font-size: 24px;\n    line-height: 29px;\n    color: #FFFFFF;\n  }\n  .divider {\n    width: 100%;\n    height: 0.5px;\n    background: #FFFFFF;\n    opacity: 0.1;\n    margin: 13.5px 0;\n    margin-bottom: 156px;\n  }\n  .slider {\n    width: 100%;\n    height: 32px;\n    background: #E8EDF9;\n    border-radius: 10px;\n    display: flex;\n    /* margin-bottom: 156px; */\n    div {\n      width: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n  }\n  label {\n   margin-bottom: 8px;\n   font-weight: 500;\n   font-size: 13px;\n   line-height: 16px;\n   text-transform: uppercase;\n   color: #FFFFFF;\n   opacity: 0.4;\n }\n .input-fen {\n   display: flex;\n   width: 100%;\n   margin-bottom: 24px;\n   input {\n     width: 100%;\n     height: 32px;\n     border-radius: 8px;\n   }\n }\n .output-fen {\n   display: flex;\n   align-items: center;\n   width: 100%;\n   height: 32px;\n   border-radius: 8px;\n   background: #ffffff;\n   overflow: hidden;\n   margin-bottom: 24px;\n   text-overflow: ellipsis;\n }\n  .btn-panel {\n    display: flex;\n    width: 100%;\n    justify-content: space-between;\n    button {    \n      width: 32%;\n      height: 40px;\n      color: #ffffff;\n      font-weight: 600;\n      font-size: 17px;\n      line-height: 20px;\n      background: #5656FF;\n      border: 1px solid rgba(255, 255, 255, 0.4);\n      box-sizing: border-box;\n      border-radius: 10px;\n    }\n  }\n"]))),ie=Object(G.a)(P||(P=Object(H.a)(['\n  div[class$="-spare-pieces"] {\n    position: absolute;\n    width: 340px;\n    display: flex;\n    justify-content: space-between;\n    div[data-testid^="spare-"]:nth-child(odd) {\n      background: #b7c0d8;\n    }\n    div[data-testid^="spare-"]:nth-child(even) {\n      background: #e8edf9;\n    }\n    div {\n      /* width: 100%; */\n      margin: 2px;\n      border-radius: 12px;\n      div {\n        img {\n          padding: 8px 10px;\n          width: 26px !important;\n          height: 28px !important;\n        }\n      }\n    }\n  }\n']))),oe=G.b.div(k||(k=Object(H.a)(['\n  display: flex;\n  /* width: 1000px; */\n  /* height: fit-content; */\n  max-width: 1440px;\n  background: black;\n  grid-template-columns: 66% 37%;\n  grid-template-areas: "board sidePanel";\n  .board-container {\n    position:relative;\n    min-width: 500px;\n    min-height: 500px;\n    grid-area: board;\n    border: 10px solid rgba(255, 255, 255);\n    div {\n      ',"\n      .black-spare-pieces {\n        left: ",";\n        bottom: ",";\n\n        /* background:grey; */\n      }\n      .white-spare-pieces {\n        left: ",";\n        bottom: ",";\n        /* background:grey; */\n      }\n    }  \n  }\n  \n  "," {\n    grid-area: sidePanel;\n    /* width: 100%; */\n    /* height: 100%; */\n  ",", "," {\n    background: #2b2b34;\n    border: 2px solid rgba(255, 255, 255, 0.1);\n    border-radius: 0 8px 8px 0;\n  }\n}\n"])),(function(e){return e.editorMode&&ie}),(function(e){return e.dimension?"".concat(e.dimension+32,"px"):"0px"}),(function(e){return e.dimension?"".concat(e.dimension-130,"px"):"0px"}),(function(e){return e.dimension?"".concat(e.dimension+32,"px"):"0px"}),(function(e){return e.dimension?"".concat(e.dimension-190,"px"):"0px"}),Y,Z,ee),ae=t.p+"static/media/undoMove.586eb02f.svg",ce=t.p+"static/media/redoMove.c6f42448.svg",se=t.p+"static/media/history.8223d0ff.svg",de=t.p+"static/media/resetBoard.7af0fcde.svg",ue=t.p+"static/media/flipBoard.c1ef8478.svg",le=t.p+"static/media/loadGame.28f8774a.svg",be=t.p+"static/media/wK.3b342df8.svg",pe=t.p+"static/media/wQ.785db365.svg",fe=t.p+"static/media/wB.56f72474.svg",ge=t.p+"static/media/wR.33cf0258.svg",je=t.p+"static/media/wN.d5fa39eb.svg",he=t.p+"static/media/wP.5f74a9fe.svg",ve=t.p+"static/media/bK.e57316c7.svg",Oe=t.p+"static/media/bQ.c21470b8.svg",xe=t.p+"static/media/bB.1f023e3e.svg",me=t.p+"static/media/bR.2724e583.svg",ye=t.p+"static/media/bN.a46c4723.svg",we=t.p+"static/media/bP.d9262a65.svg",Se=t.p+"static/media/arrowLeft.7e025148.svg",qe=t.p+"static/media/arrowRight.ae8c68ee.svg",Pe=t(0),ke=function(e){var n=e.undoMove,t=e.redoMove,r=e.setSidePanelSection;return Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsxs)(Z,{children:[Object(Pe.jsx)("div",{onClick:n,children:Object(Pe.jsx)("img",{src:ae,alt:"Undo"})}),Object(Pe.jsx)("div",{onClick:t,children:Object(Pe.jsx)("img",{src:ce,alt:"Redo"})}),Object(Pe.jsx)("div",{children:Object(Pe.jsx)("img",{src:se,alt:"History",onClick:function(){r("history")}})}),Object(Pe.jsx)("div",{children:Object(Pe.jsx)("img",{src:de,alt:"Reset"})}),Object(Pe.jsx)("div",{children:Object(Pe.jsx)("img",{src:ue,alt:"Flip"})})]}),Object(Pe.jsx)(ee,{children:Object(Pe.jsx)("div",{children:Object(Pe.jsx)("img",{src:le,alt:"Load"})})})]})},Me=function(e){var n,t,i=Object(r.useState)(),o=Object(s.a)(i,2),a=o[0],d=o[1],l=Object(r.useState)("true"===Object.fromEntries(new URLSearchParams(window.location.search).entries()).editorMode||!1),b=Object(s.a)(l,2),p=b[0],f=(b[1],Object(r.useState)("menu")),g=Object(s.a)(f,2),j=g[0],h=g[1],v=T(),O=z({Agora:v}),x=V(),m=N(v,O),y=m.setBoardPosition,w=m.fen,S=m.pgn,q=m.onDrop,P=m.onMouseOverSquare,k=m.onMouseOutSquare,M=m.squareStyles,C=m.onDragOverSquare,B=m.onSquareClick,F=m.onSquareRightClick,D=m.undoMove,E=m.redoMove;Object(r.useEffect)((function(){return R(),window.addEventListener("resize",R),function(){return window.removeEventListener("resize",R)}}),[]),Object(r.useEffect)((function(){var e,r=null===(e=window.document.getElementById("board-container"))||void 0===e?void 0:e.querySelector("div");n=null===r||void 0===r?void 0:r.firstElementChild,t=null===r||void 0===r?void 0:r.lastElementChild,n&&t&&(n.classList.add("black-spare-pieces"),t.classList.add("white-spare-pieces"),n.setAttribute("style",""),t.setAttribute("style",""))}),[window.document.getElementById("board-container")]);var R=function(){var e;d(null===(e=window.document.getElementById("board-container"))||void 0===e?void 0:e.clientWidth)},A={wK:function(e){var n=e.squareWidth;e.isDragging;return Object(Pe.jsx)("img",{style:{width:n,height:n},src:be,alt:"wK"})},wQ:function(e){var n=e.squareWidth;e.isDragging;return Object(Pe.jsx)("img",{style:{width:n,height:n},src:pe,alt:"wQ"})},wB:function(e){var n=e.squareWidth;e.isDragging;return Object(Pe.jsx)("img",{style:{width:n,height:n},src:fe,alt:"wB"})},wR:function(e){var n=e.squareWidth;e.isDragging;return Object(Pe.jsx)("img",{style:{width:n,height:n},src:ge,alt:"wR"})},wN:function(e){var n=e.squareWidth;e.isDragging;return Object(Pe.jsx)("img",{style:{width:n,height:n},src:je,alt:"wN"})},wP:function(e){var n=e.squareWidth;e.isDragging;return Object(Pe.jsx)("img",{style:{width:n,height:n},src:he,alt:"wP"})},bK:function(e){var n=e.squareWidth;e.isDragging;return Object(Pe.jsx)("img",{style:{width:n,height:n},src:ve,alt:"bK"})},bQ:function(e){var n=e.squareWidth;e.isDragging;return Object(Pe.jsx)("img",{style:{width:n,height:n},src:Oe,alt:"bQ"})},bB:function(e){var n=e.squareWidth;e.isDragging;return Object(Pe.jsx)("img",{style:{width:n,height:n},src:xe,alt:"bB"})},bR:function(e){var n=e.squareWidth;e.isDragging;return Object(Pe.jsx)("img",{style:{width:n,height:n},src:me,alt:"bR"})},bN:function(e){var n=e.squareWidth;e.isDragging;return Object(Pe.jsx)("img",{style:{width:n,height:n},src:ye,alt:"bN"})},bP:function(e){var n=e.squareWidth;e.isDragging;return Object(Pe.jsx)("img",{style:{width:n,height:n},src:we,alt:"bP"})}},I=Object(c.a)(Object(c.a)(Object(c.a)({id:"board-0",position:p?x.boardPosition:w,dropOffBoard:p?"trash":"snapback",draggable:!0,lightSquareStyle:{backgroundColor:"#E8EDF9"},darkSquareStyle:{backgroundColor:"#B7C0D8"},pieces:A,boardStyle:{width:a,height:a,position:"relative"},width:a,getPosition:p?x.setBoardPosition:y},p?{onDrop:x.onDrop}:{onDrop:q}),{},{orientation:p?x.orientation:"white"},!p&&{onMouseOverSquare:P,onMouseOutSquare:k,squareStyles:M,onDragOverSquare:C,onSquareClick:B,onSquareRightClick:F}),{},{sparePieces:p}),K=function(){var e;return Object(Pe.jsx)(Pe.Fragment,{children:Object(Pe.jsxs)(ne,{children:[Object(Pe.jsxs)("div",{className:"title",children:[Object(Pe.jsx)("img",{src:se,alt:""}),"History"]}),Object(Pe.jsx)("div",{className:"pgn",children:null===S||void 0===S||null===(e=S.map)||void 0===e?void 0:e.call(S,(function(e,n){return 0!==n&&Object(Pe.jsx)("div",{children:"".concat(n,". ").concat(e)})}))}),Object(Pe.jsxs)(te,{children:[Object(Pe.jsx)("img",{src:Se,alt:"",onClick:function(){h("menu")}}),Object(Pe.jsx)("img",{src:qe,alt:""})]})]})})};return Object(Pe.jsxs)(oe,{dimension:a,editorMode:p,children:[Object(Pe.jsx)("div",{id:"board-container",className:"board-container",children:Object(Pe.jsx)(u.a,Object(c.a)({},I))}),Object(Pe.jsx)(Y,{editorMode:p,children:p?Object(Pe.jsxs)(re,{children:[Object(Pe.jsx)("div",{className:"title",children:"Board Settings"}),Object(Pe.jsx)("div",{className:"divider"}),Object(Pe.jsx)("label",{htmlFor:"inputFen",children:"Fen"}),Object(Pe.jsx)("div",{className:"input-fen",children:Object(Pe.jsx)("input",{name:"inputFen",type:"text",value:null===x||void 0===x?void 0:x.fen,onChange:function(e){x.setFenPosition(e.target.value)}})}),Object(Pe.jsxs)("div",{className:"btn-panel",children:[Object(Pe.jsx)("button",{onClick:x.reset,children:"Reset"}),Object(Pe.jsx)("button",{onClick:x.clear,children:"Clear"}),Object(Pe.jsx)("button",{onClick:null===x||void 0===x?void 0:x.flip,children:"Flip"})]})]}):Object(Pe.jsx)(Pe.Fragment,{children:function(){switch(j){case"menu":return Object(Pe.jsx)(ke,{undoMove:D,redoMove:E,setSidePanelSection:h});case"history":return Object(Pe.jsx)(K,{});default:return Object(Pe.jsx)(ke,{undoMove:D,redoMove:E,setSidePanelSection:h})}}()})})]})};var Ce=function(){return Object(Pe.jsx)("div",{className:"app",children:Object(Pe.jsx)(Me,{})})},Be=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,69)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,o=n.getLCP,a=n.getTTFB;t(e),r(e),i(e),o(e),a(e)}))};a.a.render(Object(Pe.jsx)(i.a.StrictMode,{children:Object(Pe.jsx)(Ce,{})}),document.getElementById("root")),Be()}},[[68,1,2]]]);
//# sourceMappingURL=main.8116a93c.chunk.js.map